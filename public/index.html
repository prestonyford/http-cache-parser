<!DOCTYPE html>
<html>
<head>
    <title>HTTP Cache Parser</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mukta+Vaani:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="httpParser.js" defer></script>
</head>
<body>
    <div id="container">
        <h1>HTTP Cache File Signature Search</h1>
        <h2>Configure</h2>
        <form>
            <label for="directoryPath">Enter directory path:</label><br>
            <input class="mb" id="pathInput" type="text" name="directoryPath" placeholder="e.g. C:\Users\username\AppData\Local\Mozilla\Firefox\Profiles\toy7mtpb.default-release\cache2\entries" required><br>

            <label for="">Timeframe:</label><br>
            <div class="mb" id="timeframes-container">
                <input type="radio" id="timeframe-1hr" name="timeframe" value="1:00" checked>
                <label for="timeframe-1hr">Last 1hr</label>
                <input type="radio" id="timeframe-3hr" name="timeframe" value="3:00">
                <label for="timeframe-3hr">Last 3hrs</label>
                <input type="radio" id="timeframe-today" name="timeframe" value="24:00">
                <label for="timeframe-today">Today</label>
                <input type="radio" id="timeframe-custom-radio" name="timeframe" value="custom">
                <label for="timeframe-custom-radio" class="durationInput">Custom:</label>
                <input id="timeframe-custom" class="durationInput" pattern="[0-9]{2}:[0-9]{2}" placeholder="HH:MM"></input>
            </div>

            <label for="limit">Limit results (0 for no limit):</label><br>
            <input class="mb" id="limitInput" type="number" name="limit" placeholder="0" required><br>

            <label><a target="_blank" href="https://en.wikipedia.org/wiki/List_of_file_signatures">File signatures</a> (Hex):</label><br>
            <label for="preset">Preset: </label>
            <select class="mb" name="preset" id="preset">
                <option value="none" selected>None</option>
                <option value="png">PNG Images</option>
                <option value="jpg">JPG Images</option>
                <option value="webp">WebP image</option>
                <option value="mp3">MP3 Audio</option>
                <option value="ogg">OGG Audio</option>
            </select><br>
            <textarea id="sigs" type="text" rows="4" required></textarea><br>
            <small class="mb">Delimited by newline. Use ?? to indicate unknown bytes.</small><br>
            
            <button id="search-btn" type="submit">Search</button>
        </form>

        <hr></hr>

        <h2>Results</h2>
        <div id="results">
            Sort by: <select class="mb" name="sortby" id="sortby">
                <option value="date" selected>Date</option>
                <option value="name">Name</option>
                <option value="size">Size</option>
            </select>
            <div id="results-container">
            
            </div>
        </div>
        <i id="loading-text"></i>
    </div>
</body>
</html>